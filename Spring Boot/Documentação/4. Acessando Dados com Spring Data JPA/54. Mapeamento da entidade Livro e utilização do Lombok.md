
## Visão geral da entidade `Livro`

A classe `Livro` representa uma **entidade JPA** mapeada para a tabela `livro`.  
Ela modela um livro dentro do domínio da aplicação e define:
- Identificador único (`UUID`)
- Atributos simples (isbn, título, preço, etc.)
- Um relacionamento com a entidade `Autor`
- Um atributo enum (`GeneroLivro`)


## Lombok – `@Data`

### O que é

`@Data` é uma anotação do Lombok que gera automaticamente:
- Getters
- Setters
- `toString()`
- `equals()`
- `hashCode()`

Ela equivale a usar `@Getter`, `@Setter` e outros juntos.

## Enumeração `GeneroLivro`

### O que é
Define os possíveis gêneros de um livro como um **enum Java**.
Isso garante:
- Tipagem forte
- Valores controlados
- Evita strings soltas no código

### Trecho do código

```Java
public enum GeneroLivro {     
	FICCAO,     
	FANTASIA,     
	MISTERIO,     
	ROMANCE,     
	BIOGRAFIA,     
	CIENCIA 
}
```


## Persistência de enum – `@Enumerated`
### O que é
Define **como o enum será armazenado no banco**.
- `EnumType.STRING`:
    - Salva o nome do enum (`FICCAO`, `ROMANCE`, etc.)
    - Mais legível
    - Mais seguro contra alterações na ordem do enum

### Trecho do código

```Java
@Enumerated(EnumType.STRING) @Column(name = "genero", nullable = false) private GeneroLivro genero;
```

## Coluna `preco`

### O que é
Define um valor decimal com precisão monetária.
- `precision = 18` → total de dígitos
- `scale = 2` → casas decimais

Ideal para valores financeiros.

### Trecho do código

```Java
@Column(name = "preco", precision = 18, scale = 2) private Double preco;
```

## Relacionamento `@ManyToOne`

### O que é
Define que **muitos livros pertencem a um autor**.
- Cada `Livro` possui **um único `Autor`**
- Cria uma chave estrangeira no banco

### Trecho do código

```Java
@ManyToOne 
@JoinColumn(name = "id_autor") 
private Autor autor;
```

## `@JoinColumn`

### O que é
Define a **coluna de chave estrangeira** na tabela `livro`.
- `id_autor` referencia a tabela `autor`
- Essa coluna liga livro → autor

## Atualização da classe `Autor` – `@OneToMany`

### O que é
Define o lado inverso do relacionamento:
- Um `Autor` possui **vários livros**
- O relacionamento é mapeado pelo atributo `autor` da classe `Livro`
`mappedBy` indica que **a chave estrangeira está no lado Livro**, não em Autor.

### Trecho do código

```Java
@OneToMany(mappedBy = "autor") 
private List<Livro> livros;
```

## Resumo conceitual do relacionamento

- `Autor` → **1 para N** → `Livro`
    
- `Livro` → **N para 1** → `Autor`
    
- A chave estrangeira fica em `livro.id_autor`
    
- O relacionamento é bidirecional