
Ao tentar registrar o servidor no pgAdmin, foi preenchido:

- **Host name/address**: `librarydb`
- **Port**: `5432`
- **Username**: `postgres`
- **Password**: `postgres_password`
- **Maintenance database**: `library`

Porém, ocorreu erro de conexão.

### Por quê isso aconteceu?
Apesar de ambos estarem rodando:
- O PostgreSQL estava em **um container**
- O pgAdmin estava em **outro container**

Por padrão, **containers Docker não conseguem se comunicar pelo nome** se não estiverem na **mesma network**.

Ou seja:
- `localhost` funciona apenas dentro do próprio container
- O nome `librarydb` só funciona se os containers estiverem na mesma rede Docker


## Criando uma Docker Network

Para resolver isso, foi criada uma **network dedicada**:
```shell
docker network create library-network
```

### O que isso faz
- Cria uma rede virtual isolada
- Permite que containers dentro dela:
    - Se comuniquem
    - Usem o **nome do container como host**
    - Tenham resolução de DNS automática


## Recriando os containers na mesma network

Os containers antigos foram removidos e recriados **associados à mesma network**:
### PostgreSQL

```shell
docker run --name librarydb -p 5432:5432 -e POSTGRES_PASSWORD=postgres_password -e POSTGRES_USER=postgres -e POSTGRES_DB=library --network library-network postgres:16.3
```

### pgAdmin

```shell
docker run --name pgadmin4 -p 15432:80 -e PGADMIN_DEFAULT_EMAIL=admin@admin.com -e PGADMIN_DEFAULT_PASSWORD=admin --network library-network dpage/pgadmin4
```

Agora ambos os containers estão **na mesma rede**.

## Configurando o servidor no pgAdmin

Com a network configurada corretamente, o cadastro do servidor no pgAdmin passa a funcionar:

### Aba **General**
- **Name**: `librarydb`

### Aba **Connection**
- **Host name/address**: `librarydb`
- **Port**: `5432`
- **Maintenance database**: `library`
- **Username**: `postgres`
- **Password**: `postgres_password`