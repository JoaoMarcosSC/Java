
## 1. Atualizações em `MontadoraConfiguration`

### Problema que surgiu

O tipo `Motor` passou a ter **várias implementações/configurações**.  
Se existirem múltiplos beans do mesmo tipo, isto gera erro

Para resolver isso, cada bean recebeu um **nome explícito**.

### Bean `motorAspirado`

```Java
@Bean(name = "motorAspirado") 
public Motor motorAspirado(){
     var motor = new Motor();     
     motor.setCavalos(120);     
     motor.setCilindros(4);     
     motor.setTipo(TipoMotor.ASPIRADO);     
     return motor; 
}
```

- Criado um bean do tipo `Motor`
- Nomeado explicitamente como `"motorAspirado"`
- Representa um motor aspirado

O nome do bean é **fundamental**, pois será usado pelo `@Qualifier`.

### Bean `motorEletrico`

```Java
@Bean(name = "motorEletrico") 
public Motor motorEletrico(){
     var motor = new Motor();     
     motor.setCavalos(80);     
     motor.setCilindros(3);     
     motor.setModelo("XPTO-0");     
     motor.setLitragem(1.0);     
     motor.setTipo(TipoMotor.ELETRICO);     
     return motor; 
}
```

- Mesmo tipo (`Motor`)
- Configuração completamente diferente
- Outro nome de bean

O Spring agora tem **mais de um candidato válido** para injeção.

### Bean `motorTurbo`

```Java
@Bean(name = "motorTurbo") 
public Motor motorTurbo(){
     var motor = new Motor();     
     motor.setCavalos(180);     
     motor.setCilindros(4);     
     motor.setModelo("XPTO-0");     
     motor.setLitragem(1.5);     
     motor.setTipo(TipoMotor.TURBO);     
     return motor; 
}
```

Ao final da inicialização, o Spring possui:
- `motorAspirado`
- `motorEletrico`
- `motorTurbo`

Todos do tipo `Motor`.

## 2. Atualizações em `TesteFabricaController`

### Mapeamento base do controller

```Java
@RestController 
@RequestMapping("carros") 
public class TesteFabricaController {
```

Aqui foi adicionado:
- `@RequestMapping("carros")`
- Define o caminho base da API:
    `/carros`

### Injeção do `Motor` com `@Qualifier`

```Java
@Autowired @Qualifier("motorTurbo") private Motor motor;
```

Como existem **três beans do tipo `Motor`**, o Spring precisa saber **qual exatamente deve ser injetado**.
O `@Qualifier` resolve isso dizendo explicitamente:
Sem isso, a aplicação **não sobe**.

O valor do `@Qualifier` **deve ser exatamente igual** ao nome definido no `@Bean(name = "...")`.

### Método `ligarCarro`

```Java
@PostMapping 
public CarroStatus ligarCarro(@RequestBody Chave chave){
     var carro = new HondaHRV(motor);     
     return carro.darIgnicao(chave); 
}
```

- O `motor` usado **não é genérico**
- Ele é especificamente o **motor turbo**
- O comportamento do carro muda conforme o motor escolhido

Se trocar o `@Qualifier`, o mesmo código cria:

- HRV aspirado
- HRV elétrico
- HRV turbo

Sem mudar **nenhuma linha de domínio**.